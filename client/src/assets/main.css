/* client/src/assets/main.css - Universal Layout & Component Styles */

@import './base.css';

/* ========================================
   UNIVERSAL APP LAYOUT
   ======================================== */

#app {
  min-height: 100vh;
  max-width: none !important;
  margin: 0 !important;
  padding: 0 !important;
  font-family: var(--font-secondary);
}

/* Main Content Areas */
.v-main {
  background-color: var(--ldh-gray-50) !important;
  min-height: calc(100vh - var(--header-height));
}

.v-container {
  max-width: var(--container-max-width) !important;
  width: 100% !important;
  padding: var(--spacing-md) !important;
  margin: 0 auto !important;
}

/* ========================================
   VUETIFY COMPONENT OVERRIDES
   ======================================== */

/* Cards */
.v-card {
  border-radius: var(--border-radius) !important;
  box-shadow: var(--shadow-md) !important;
  overflow: visible !important;
  border: 1px solid var(--ldh-gray-200) !important;
}

.v-card--variant-tonal {
  border: none !important;
}

.v-card-title {
  font-family: var(--font-primary) !important;
  font-weight: 600 !important;
  color: var(--ldh-navy) !important;
  padding: var(--spacing-lg) var(--spacing-lg) var(--spacing-md) var(--spacing-lg) !important;
}

.v-card-text {
  font-family: var(--font-secondary) !important;
  line-height: 1.6 !important;
  padding: 0 var(--spacing-lg) var(--spacing-lg) var(--spacing-lg) !important;
}

.v-card-actions {
  padding: var(--spacing-md) var(--spacing-lg) var(--spacing-lg) var(--spacing-lg) !important;
}

/* Buttons */
.v-btn {
  border-radius: var(--border-radius-sm) !important;
  font-family: var(--font-primary) !important;
  font-weight: 500 !important;
  text-transform: none !important;
  letter-spacing: 0 !important;
  box-shadow: var(--shadow-sm) !important;
  transition: all 0.2s ease !important;
}

.v-btn:hover {
  box-shadow: var(--shadow-md) !important;
  transform: translateY(-1px);
}

.v-btn--variant-elevated {
  box-shadow: var(--shadow-md) !important;
}

.v-btn--variant-flat {
  box-shadow: none !important;
}

/* Chips */
.v-chip {
  border-radius: var(--border-radius-sm) !important;
  font-family: var(--font-primary) !important;
  font-weight: 500 !important;
  font-size: 0.875rem !important;
}

.v-chip-group {
  overflow: visible !important;
  flex-wrap: wrap !important;
}

/* Data Tables */
.v-data-table {
  border-radius: var(--border-radius) !important;
  border: 1px solid var(--ldh-gray-200) !important;
  overflow-x: auto !important;
  background-color: white !important;
}

.v-data-table-header {
  background-color: var(--ldh-gray-50) !important;
}

.v-data-table-header__content {
  font-family: var(--font-primary) !important;
  font-weight: 600 !important;
  color: var(--ldh-navy) !important;
}

.v-data-table__td {
  font-family: var(--font-secondary) !important;
  border-bottom: 1px solid var(--ldh-gray-200) !important;
}

.v-data-table__tr:hover {
  background-color: var(--ldh-gray-50) !important;
}

/* Forms */
.v-text-field, .v-select, .v-textarea {
  margin-bottom: var(--spacing-md) !important;
}

.v-field {
  border-radius: var(--border-radius-sm) !important;
  font-family: var(--font-secondary) !important;
}

.v-field--focused {
  box-shadow: 0 0 0 2px var(--ldh-blue) !important;
}

/* Dialogs */
.v-dialog {
  margin: var(--spacing-md) !important;
}

.v-dialog > .v-card {
  max-width: calc(100vw - 32px) !important;
  border-radius: var(--border-radius) !important;
  box-shadow: var(--shadow-xl) !important;
}

/* Tabs */
.v-tabs {
  border-bottom: 1px solid var(--ldh-gray-200) !important;
}

.v-tab {
  font-family: var(--font-primary) !important;
  font-weight: 500 !important;
  text-transform: none !important;
  letter-spacing: 0 !important;
}

.v-tab--selected {
  color: var(--ldh-navy) !important;
  font-weight: 600 !important;
}

/* Alerts */
.v-alert {
  border-radius: var(--border-radius-sm) !important;
  font-family: var(--font-secondary) !important;
  border-left: 4px solid currentColor !important;
}

.v-alert--variant-tonal {
  border-left-color: currentColor !important;
}

/* Navigation */
.v-app-bar {
  box-shadow: var(--shadow-md) !important;
  border-bottom: 1px solid var(--ldh-gray-200) !important;
}

.v-app-bar-title {
  font-family: var(--font-primary) !important;
  font-weight: 700 !important;
  font-size: 1.5rem !important;
  color: white !important;
}

/* ========================================
   LAYOUT FIXES
   ======================================== */

/* Fix container overflow and responsive issues */
@media (max-width: 1264px) {
  .v-container {
    padding: var(--spacing-sm) !important;
  }
}

@media (max-width: 960px) {
  .v-container {
    padding: var(--spacing-sm) !important;
  }
  
  .v-card-title {
    font-size: 1.1rem !important;
    line-height: 1.3 !important;
    padding: var(--spacing-md) !important;
  }
  
  .v-card-text {
    padding: 0 var(--spacing-md) var(--spacing-md) var(--spacing-md) !important;
  }
  
  .v-card-actions {
    padding: var(--spacing-sm) var(--spacing-md) var(--spacing-md) var(--spacing-md) !important;
  }
  
  /* Stack cards on mobile */
  .v-row .v-col {
    flex: 1 1 100% !important;
    max-width: 100% !important;
  }
  
  /* Better mobile table */
  .v-data-table {
    font-size: 0.875rem !important;
  }
  
  .v-data-table__td {
    padding: var(--spacing-sm) !important;
  }
}

@media (max-width: 600px) {
  .v-container {
    padding: var(--spacing-xs) !important;
  }
  
  .v-dialog {
    margin: var(--spacing-xs) !important;
  }
  
  .v-dialog > .v-card {
    max-width: calc(100vw - 16px) !important;
  }
}

/* ========================================
   COMPONENT-SPECIFIC STYLES
   ======================================== */

/* Statistics Cards */
.statistics-card {
  background: linear-gradient(135deg, var(--ldh-blue) 0%, var(--ldh-navy) 100%) !important;
  color: white !important;
  border: none !important;
}

.statistics-card .v-card-text {
  color: white !important;
}

/* Debug Components */
.debug-section {
  border: 2px dashed var(--ldh-warning) !important;
  background: rgba(251, 188, 4, 0.1) !important;
  margin-bottom: var(--spacing-md) !important;
}

.debug-section .v-card-title {
  color: var(--ldh-warning) !important;
}

/* Permission Chips */
.permission-chip-granted {
  background-color: var(--ldh-success) !important;
  color: white !important;
}

.permission-chip-denied {
  background-color: var(--ldh-error) !important;
  color: white !important;
}

.permission-chip-pending {
  background-color: var(--ldh-warning) !important;
  color: var(--ldh-gray-900) !important;
}

/* Role Badges */
.role-owner { background-color: var(--ldh-navy) !important; color: white !important; }
.role-admin { background-color: var(--ldh-error) !important; color: white !important; }
.role-user { background-color: var(--ldh-blue) !important; color: white !important; }
.role-viewer { background-color: var(--ldh-success) !important; color: white !important; }
.role-pending { background-color: var(--ldh-gray-400) !important; color: white !important; }

/* Loading States */
.v-progress-linear {
  border-radius: var(--border-radius-sm) !important;
}

.v-skeleton-loader {
  border-radius: var(--border-radius) !important;
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

/* Spacing Utilities */
.p-xs { padding: var(--spacing-xs) !important; }
.p-sm { padding: var(--spacing-sm) !important; }
.p-md { padding: var(--spacing-md) !important; }
.p-lg { padding: var(--spacing-lg) !important; }
.p-xl { padding: var(--spacing-xl) !important; }

.m-xs { margin: var(--spacing-xs) !important; }
.m-sm { margin: var(--spacing-sm) !important; }
.m-md { margin: var(--spacing-md) !important; }
.m-lg { margin: var(--spacing-lg) !important; }
.m-xl { margin: var(--spacing-xl) !important; }

/* Text Utilities */
.text-ldh-navy { color: var(--ldh-navy) !important; }
.text-ldh-blue { color: var(--ldh-blue) !important; }
.text-ldh-gold { color: var(--ldh-gold) !important; }
.text-ldh-aqua { color: var(--ldh-aqua) !important; }

.bg-ldh-navy { background-color: var(--ldh-navy) !important; }
.bg-ldh-blue { background-color: var(--ldh-blue) !important; }
.bg-ldh-gold { background-color: var(--ldh-gold) !important; }
.bg-ldh-aqua { background-color: var(--ldh-aqua) !important; }

/* Border Utilities */
.border-ldh { border: 1px solid var(--ldh-gray-200) !important; }
.border-primary { border: 1px solid var(--ldh-blue) !important; }
.border-navy { border: 1px solid var(--ldh-navy) !important; }

.rounded-ldh { border-radius: var(--border-radius) !important; }
.rounded-ldh-sm { border-radius: var(--border-radius-sm) !important; }
.rounded-ldh-lg { border-radius: var(--border-radius-lg) !important; }

/* Shadow Utilities */
.shadow-ldh-sm { box-shadow: var(--shadow-sm) !important; }
.shadow-ldh-md { box-shadow: var(--shadow-md) !important; }
.shadow-ldh-lg { box-shadow: var(--shadow-lg) !important; }
.shadow-ldh-xl { box-shadow: var(--shadow-xl) !important; }

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  .v-app-bar,
  .v-navigation-drawer,
  .debug-section {
    display: none !important;
  }
  
  .v-main {
    padding: 0 !important;
  }
  
  .v-card {
    box-shadow: none !important;
    border: 1px solid var(--ldh-gray-300) !important;
  }
}

/* ========================================
   VISIBILITY FIX FOR ICONS & CONTROLS
   ======================================== */
/*
  This fix addresses an issue where icons inside buttons and checkboxes
  may not be visible due to theme color conflicts or CSS specificity.
*/

/* Ensure icons inside text/plain buttons have a visible default state */
.v-btn--variant-text .v-icon,
.v-btn--variant-plain .v-icon {
  opacity: 0.7;
}

/* Ensure icons are fully opaque on hover */
.v-btn--variant-text:hover .v-icon,
.v-btn--variant-plain:hover .v-icon {
  opacity: 1;
}

/* Ensure the icon for checkboxes and radio buttons is visible in an INACTIVE state */
.v-selection-control .v-icon {
  color: rgba(var(--v-theme-on-surface), var(--v-medium-emphasis-opacity));
  opacity: 1 !important;
}

/* Ensure the icon for a SELECTED control uses the theme's primary color */
.v-selection-control--dirty .v-icon {
  color: rgb(var(--v-theme-primary));
}

/* Ensure disabled controls are visibly muted */
.v-btn--disabled,
.v-selection-control--disabled {
    opacity: 0.5 !important;
}